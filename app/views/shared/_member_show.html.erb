<% if current_member && current_member != @member %>
	<div class="action-buttons mb-20 d-flex gap-10">
		
		<% if current_member.bookmarked?(@member) %>
			<%= button_to "ブックマーク解除", member_bookmark_path(@member), method: :delete, class: "btn-secondary" %>
		<% else %>
			<%= button_to "ブックマークする", member_bookmark_path(@member), method: :post, class: "btn-primary" %>
		<% end %>

		<% if current_member.blocking?(@member) %>
			<%= button_to "ブロック解除", member_block_path(@member), method: :delete, class: "btn-danger", form: { data: { turbo_confirm: "本当に解除しますか？" } } %>
		<% else %>
			<%= button_to "ブロックする", member_block_path(@member), method: :post, class: "btn-outline-danger", form: { data: { turbo_confirm: "本当にブロックしますか？" } } %>
		<% end %>

	</div>
<% end %>

<table class="list">
	<tr>
		<th>名前</th>
		<td><%= @member.name %></td>
	</tr>

	<% if current_member == @member %>
		<tr>
		<th>メールアドレス</th>
		<td><%= @member.email %></td>
		</tr>
	<% end %>

	<tr>
		<th>性別</th>
		<td><%= @member.sex == 1 ? "男" : "女" %></td>
	</tr>

	<tr>
		<th>誕生日</th>
		<td><%= @member.birthday&.strftime("%Y年%m月%d日") %></td>
	</tr>

	<% if @member.special_member? %>
		<%= render "shared/special_member_display", member: @member %>
	<% end %>

	<tr>
		<th>自己紹介</th>
		<td><%= simple_format(@member.comment) %></td>
	</tr>
</table>

<% if @member.special_member? && current_member != @member %>
	<div class="reservation-section mt-20">
        <h3>予約について</h3>
        <div class="actions mb-20">
            <%= link_to "この方を予約する", new_member_reservation_path(@member), class: "btn-primary" %>
        </div>

        <div class="availability-calendar">
            <h4>予約可能日時</h4>
			<%= render "shared/reservation_calendar", member: @member, dates: @dates %>
        </div>
    </div>
<% end %>
